<!--Token Animation Options-->
<div class='pre-post-animations'>
    <div style="text-align: center; font-weight: bold; padding-top: 6px; padding-bottom: 6px;font-size:large">
        {{localize "AUTOANIM.extraexplain"}}
    </div>
    <div class='aa-checkbox-label text-green' {{#unless flags.autoanimations.sourceToken.enable }}
        style='text-shadow: 1px 1px 2px lightpink, 0 0 25px red, 0 0 5px orangered; text-align: center;' {{/unless}}>
        <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
            <label style="font-size: large;">{{localize "AUTOANIM.source"}}</label>
            <input type="checkbox" name="flags.autoanimations.sourceToken.enable" data-dtype="{{Boolean}}" {{checked
                flags.autoanimations.sourceToken.enable}} />
        </div>
    </div>
    {{#if flags.autoanimations.sourceToken.enable}}
    <div class="aa-itemSection-divider">
        <div class="aa-primary-container">
            <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                <label>{{localize 'AUTOANIM.type'}}</label>
                <select name="flags.autoanimations.sourceToken.menuType" {{#if
                    flags.autoanimations.sourceToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.sourceToken.menuType}}
                    <option value=""> </option>
                    {{#each menuTypes.static as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.animation"}}</label>
                <select name="flags.autoanimations.sourceToken.name" {{#if
                    flags.autoanimations.sourceToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.sourceToken.name}}
                    <option value=""> </option>
                    {{#each (lookup menuNames.static flags.autoanimations.sourceToken.menuType) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                <label>{{localize "AUTOANIM.variant"}}</label>
                <select name="flags.autoanimations.sourceToken.variant" {{#if
                    flags.autoanimations.sourceToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.sourceToken.variant}}
                    <option value=""> </option>
                    {{#each (lookup (lookup menuVariants.static flags.autoanimations.sourceToken.menuType) flags.autoanimations.sourceToken.name) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.color"}}</label>
                <select name="flags.autoanimations.sourceToken.color" {{#if
                    flags.autoanimations.sourceToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.sourceToken.color}}
                    <option value=""> </option>
                    {{#each (lookup (lookup (lookup menuColors.static flags.autoanimations.sourceToken.menuType) flags.autoanimations.sourceToken.name) flags.autoanimations.sourceToken.variant) as |name key|}}
                    flags.autoanimations.sourceToken 'variant')) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
        </div>
        <div class="aa-customAnim-container">
            <div class='form-group' style='justify-self: left; grid-row: 1 / 2; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.custom"}}</label>
                <input type="checkbox" name="flags.autoanimations.sourceToken.enableCustom" {{checked
                    flags.autoanimations.sourceToken.enableCustom}}>
            </div>
            {{#if flags.autoanimations.sourceToken.enableCustom}}
            <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                <input type="text" class="files" name="flags.autoanimations.sourceToken.customPath"
                    value="{{flags.autoanimations.sourceToken.customPath}}">
                <button type="button" class="file-picker" data-type="image/video"
                    data-target="flags.autoanimations.sourceToken.customPath" tabindex="-1" title="Browse Files">
                    <i class="fas fa-file-video"></i>
                </button>
            </div>
            {{/if}}
        </div>
        <div class='flexrow aa-section-label'>
            <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
        </div>
        <div class="aa-subSection-divider"></div>
        <div class="aa-options-even aa-options-settings">
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.repeat"}}</label>
                <input type="Number" name="flags.autoanimations.sourceToken.loops"
                    value="{{flags.autoanimations.sourceToken.loops}}" data-dtype="Number" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                <input type="Number" name="flags.autoanimations.sourceToken.loopDelay"
                    value="{{flags.autoanimations.sourceToken.loopDelay}}" data-dtype="Number" placeholder=250>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.scale"}}</label>
                <input type="Number" name="flags.autoanimations.sourceToken.scale"
                    value="{{flags.autoanimations.sourceToken.scale}}" data-dtype="Number" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                <label>{{localize "AUTOANIM.opacity"}} </label>
                <input type="Number" name="flags.autoanimations.sourceToken.opacity" min="0" max="1" step=".01"
                    value="{{flags.autoanimations.sourceToken.opacity}}" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                <label>{{localize "AUTOANIM.delay"}} {{localize "AUTOANIM.primary"}}</label>
                <input type="Number" name="flags.autoanimations.sourceToken.delayAfter"
                    value="{{flags.autoanimations.sourceToken.delayAfter}}" data-dtype="Number" placeholder=500>
            </div>
            <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.below"}}</label>
                <input type="checkbox" name="flags.autoanimations.sourceToken.animLevel" data-dtype="{{Boolean}}"
                    {{checked flags.autoanimations.sourceToken.animLevel}} />
            </div>
        </div>
        <div class='aa-checkbox-label' style="text-align: center;">
            <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                <label style="font-size: large;">{{localize "AUTOANIM.sound"}}</label>
                <input type="checkbox" name="flags.autoanimations.audio.s01.enable" {{checked
                    flags.autoanimations.audio.s01.enable}}>
            </div>
        </div>
        <div class="aa-subSection-divider"></div>
        {{#if flags.autoanimations.audio.s01.enable}}
        <div class="aa-options-odd aa-options-settings">
            <!--Audio filePicker and Text Input-->
            <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                <input type="text" class="files" name="flags.autoanimations.audio.s01.file"
                    value="{{flags.autoanimations.audio.s01.file}}" style="text-align: start;">
                <button type="button" class="file-picker" data-type="audio"
                    data-target="flags.autoanimations.audio.s01.file" tabindex="-1" title="Browse Files">
                    <i class="fas fa-music"></i>
                </button>
            </div>
            <!--Set Sound Start Time-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                <input type="Number" name="flags.autoanimations.audio.s01.startTime" step="1"
                    value="{{flags.autoanimations.audio.s01.startTime}}" placeholder=0>
            </div>
            <!--Audio Volume-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.volume"}}</label>
                <input type="Number" name="flags.autoanimations.audio.s01.volume" min="0" max="1" step="0.01"
                    value="{{flags.autoanimations.audio.s01.volume}}" placeholder=0.5>
            </div>

            <!--Audio Delay-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                <label>{{localize "AUTOANIM.delay"}}</label>
                <input type="Number" name="flags.autoanimations.audio.s01.delay" min="0"
                    value="{{flags.autoanimations.audio.s01.delay}}" placeholder=0>
            </div>
        </div>
        {{/if}}
    </div>
    {{/if}}

    <div style='padding:3px'>

    </div>
    <div class="flexrow">
        <div class="AA-flow-chart-Source" {{#if flags.autoanimations.sourceToken.enable }}
            style="background-color: rgb(129, 248, 138);color: black" {{/if}} {{#unless
            flags.autoanimations.sourceToken.enable}} style="background-color: rgb(255, 145, 43);color: black"
            {{/unless}}>
            <label>{{localize "AUTOANIM.source"}} {{localize "AUTOANIM.animation"}}</label>
        </div>
        <div class="aa-flow-arrow">
            <i {{#if flags.autoanimations.sourceToken.enable}} style='color:rgb(6, 190, 6);text-shadow: 0 0 5px black'
                {{/if }} {{#unless flags.autoanimations.sourceToken.enable}}
                style='color:red;text-shadow: 0 0 5px black' {{/unless }} class="fas fa-angle-double-right fa-3x"></i>
        </div>
        <div class="AA-flow-chart-Primary" style='color: black'>
            <label>{{localize "AUTOANIM.primary"}} {{localize "AUTOANIM.animation"}}</label>
        </div>
        <div class="aa-flow-arrow">
            <i {{#if flags.autoanimations.targetToken.enable}} style='color:rgb(6, 190, 6);text-shadow: 0 0 5px black'
                {{/if }} {{#unless flags.autoanimations.targetToken.enable}}
                style='color:red;text-shadow: 0 0 5px black' {{/unless }} class="fas fa-angle-double-right fa-3x"></i>
        </div>
        <div class="AA-flow-chart-Target" {{#if flags.autoanimations.targetToken.enable }}
            style="background-color: rgb(129, 248, 138);color: black" {{/if}} {{#unless
            flags.autoanimations.targetToken.enable}} style="background-color: rgb(255, 145, 43);color: black"
            {{/unless}}>
            <label>{{localize "AUTOANIM.target"}} {{localize "AUTOANIM.animation"}}</label>
        </div>
    </div>
    <div style='padding:3px'>

    </div>

    <div class='aa-checkbox-label text-green' {{#unless flags.autoanimations.targetToken.enable }}
        style='text-shadow: 1px 1px 2px lightpink, 0 0 25px red, 0 0 5px orangered; text-align: center;' {{/unless}}>
        <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
            <label style="font-size: large;">{{localize "AUTOANIM.target"}}</label>
            <input type="checkbox" name="flags.autoanimations.targetToken.enable" data-dtype="{{Boolean}}" {{checked
                flags.autoanimations.targetToken.enable}} />
        </div>
    </div>
    {{#if flags.autoanimations.targetToken.enable}}
    <div class="aa-itemSection-divider">
        <div class="aa-primary-container">
            <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                <label>{{localize 'AUTOANIM.type'}}</label>
                <select name="flags.autoanimations.targetToken.menuType" {{#if
                    flags.autoanimations.targetToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.targetToken.menuType}}
                    <option value=""> </option>
                    {{#each menuTypes.static as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.animation"}}</label>
                <select name="flags.autoanimations.targetToken.name" {{#if
                    flags.autoanimations.targetToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.targetToken.name}}
                    <option value=""> </option>
                    {{#each (lookup menuNames.static flags.autoanimations.targetToken.menuType) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                <label>{{localize "AUTOANIM.variant"}}</label>
                <select name="flags.autoanimations.targetToken.variant" {{#if
                    flags.autoanimations.targetToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.targetToken.variant}}
                    <option value=""> </option>
                    {{#each (lookup (lookup menuVariants.static flags.autoanimations.targetToken.menuType) flags.autoanimations.targetToken.name) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
            <div class='flexcol' style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.color"}}</label>
                <select name="flags.autoanimations.targetToken.color" {{#if
                    flags.autoanimations.targetToken.enableCustom}} disabled {{/if }}>
                    {{#select flags.autoanimations.targetToken.color}}
                    <option value=""> </option>
                    {{#each (lookup (lookup (lookup menuColors.static flags.autoanimations.targetToken.menuType) flags.autoanimations.targetToken.name) flags.autoanimations.targetToken.variant) as |name key|}}
                    flags.autoanimations.targetToken 'variant')) as |name key|}}
                    <option value="{{key}}">{{name}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
        </div>
        <div class="aa-customAnim-container">
            <div class='form-group' style='justify-self: left; grid-row: 1 / 2; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.custom"}}</label>
                <input type="checkbox" name="flags.autoanimations.targetToken.enableCustom" {{checked
                    flags.autoanimations.targetToken.enableCustom}}>
            </div>
            {{#if flags.autoanimations.targetToken.enableCustom}}
            <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                <input type="text" class="files" name="flags.autoanimations.targetToken.customPath"
                    value="{{flags.autoanimations.targetToken.customPath}}">
                <button type="button" class="file-picker" data-type="image/video"
                    data-target="flags.autoanimations.targetToken.customPath" tabindex="-1" title="Browse Files">
                    <i class="fas fa-file-video"></i>
                </button>
            </div>
            {{/if}}
        </div>
        <div class='flexrow aa-section-label'>
            <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
        </div>
        <div class="aa-subSection-divider"></div>
        <div class="aa-options-even aa-options-settings">
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.repeat"}}</label>
                <input type="Number" name="flags.autoanimations.targetToken.loops"
                    value="{{flags.autoanimations.targetToken.loops}}" data-dtype="Number" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                <input type="Number" name="flags.autoanimations.targetToken.loopDelay"
                    value="{{flags.autoanimations.targetToken.loopDelay}}" data-dtype="Number" placeholder=250>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.scale"}}</label>
                <input type="Number" name="flags.autoanimations.targetToken.scale"
                    value="{{flags.autoanimations.targetToken.scale}}" data-dtype="Number" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                <label>{{localize "AUTOANIM.opacity"}} </label>
                <input type="Number" name="flags.autoanimations.targetToken.opacity" min="0" max="1" step=".01"
                    value="{{flags.autoanimations.targetToken.opacity}}" placeholder=1>
            </div>
            <div class="flexcol" style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                <label>{{localize "AUTOANIM.delay"}} {{localize "AUTOANIM.start"}}</label>
                <input type="Number" name="flags.autoanimations.targetToken.delayStart"
                    value="{{flags.autoanimations.targetToken.delayStart}}" data-dtype="Number" placeholder=500>
            </div>
            <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.below"}}</label>
                <input type="checkbox" name="flags.autoanimations.targetToken.animLevel" data-dtype="{{Boolean}}"
                    {{checked flags.autoanimations.targetToken.animLevel}} />
            </div>
            <div class="flexcol" style='grid-row: 2 / 3; grid-column: 4 / 5;'>
                <label>{{localize "AUTOANIM.persistant"}}?</label>
                <input type="checkbox" name="flags.autoanimations.targetToken.persistent" {{checked
                    flags.autoanimations.targetToken.persistent}}>
            </div>
        </div>
        <div class='aa-checkbox-label' style="text-align: center;">
            <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                <label style="font-size: large;">{{localize "AUTOANIM.sound"}}</label>
                <input type="checkbox" name="flags.autoanimations.audio.t01.enable" {{checked
                    flags.autoanimations.audio.t01.enable}}>
            </div>
        </div>
        <div class="aa-subSection-divider"></div>
        {{#if flags.autoanimations.audio.t01.enable}}
        <div class="aa-options-odd aa-options-settings">
            <!--Audio filePicker and Text Input-->
            <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                <input type="text" class="files" name="flags.autoanimations.audio.t01.file"
                    value="{{flags.autoanimations.audio.t01.file}}" style="text-align: start;">
                <button type="button" class="file-picker" data-type="audio"
                    data-target="flags.autoanimations.audio.t01.file" tabindex="-1" title="Browse Files">
                    <i class="fas fa-music"></i>
                </button>
            </div>
            <!--Set Sound Start Time-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                <input type="Number" name="flags.autoanimations.audio.t01.startTime" step="1"
                    value="{{flags.autoanimations.audio.t02.startTime}}" placeholder=0>
            </div>
            <!--Audio Volume-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                <label>{{localize "AUTOANIM.volume"}}</label>
                <input type="Number" name="flags.autoanimations.audio.t01.volume" min="0" max="1" step="0.01"
                    value="{{flags.autoanimations.audio.t01.volume}}" placeholder=0.5>
            </div>

            <!--Audio Delay-->
            <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                <label>{{localize "AUTOANIM.delay"}}</label>
                <input type="Number" name="flags.autoanimations.audio.t01.delay" min="0"
                    value="{{flags.autoanimations.audio.t01.delay}}" placeholder=0>
            </div>
        </div>
        {{/if}}
    </div>
    {{/if}}

    <div style='padding:3px'>

    </div>
</div>