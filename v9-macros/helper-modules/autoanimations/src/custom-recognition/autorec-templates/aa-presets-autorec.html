<div class='aa-autorecognition'>
    {{#each settings.aaAutorec.preset as |preset idx|}}
    <div class='aa-border-autorecog aa-search aaFGimage'>
        <div class='flexrow preset-settings' data-idx="{{idx}}">
            {{#if ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' )}}
            <div class='flexcol'>
                <div class='form-group'>
                    <div class='form-fields'>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.hidden' {{checked (lookup
                            (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i {{#if ( lookup (lookup
                                ../settings.aaAutorec.preset idx) 'hidden' ) }} class="fas fa-plus collapse-button"
                                {{/if}} {{#unless ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }}
                                class="fas fa-minus collapse-button" {{/unless}}></i>
                            <span class='aaToggle01'>
                                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'hidden')}}
                                {{localize 'AUTOANIM.expand'}}
                                {{/if}}
                                {{#unless (lookup (lookup ../settings.aaAutorec.preset idx) 'hidden')}}
                                {{localize 'AUTOANIM.collapse'}}
                                {{/unless}}
                            </span>
                        </div>
                        <input type='text' name="aaAutorec.preset.{{idx}}.name"
                            placeholder="{{localize 'AUTOANIM.itemName'}}" class='auto-name'
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'name'}}" />
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-trash-alt remove-autorecog preset' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.delete'}}</span>
                        </div>
                    </div>
                </div>
            </div>
            {{/if}}
            {{#unless ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }}
            <div class='flexcol'>
                <div class='form-group'>
                    <div class='form-fields'>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.hidden' {{checked (lookup
                            (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i {{#if ( lookup (lookup
                                ../settings.aaAutorec.preset idx) 'hidden' ) }} class="fas fa-plus collapse-button"
                                {{/if}} {{#unless ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }}
                                class="fas fa-minus collapse-button" {{/unless}}></i>
                            <span class='aaToggle01'>
                                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'hidden')}}
                                {{localize 'AUTOANIM.expand'}}
                                {{/if}}
                                {{#unless (lookup (lookup ../settings.aaAutorec.preset idx) 'hidden')}}
                                {{localize 'AUTOANIM.collapse'}}
                                {{/unless}}
                            </span>
                        </div>
                        {{#unless ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }}
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i
                                class='far fa-clone duplicate-preset' data-idx="{{idx}}"></i>
                            <span class='aaToggle01'>{{localize 'AUTOANIM.duplicate'}}</span>
                        </div>
                        {{/unless}}
                        <input type='text' name="aaAutorec.preset.{{idx}}.name"
                            placeholder="{{localize 'AUTOANIM.itemName'}}" class='auto-name'
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'name'}}" />
                        {{#unless ( lookup (lookup ../settings.aaAutorec.preset idx) 'hidden' ) }}
                        <input type='checkbox' class='showMacro' name='aaAutorec.preset.{{idx}}.macro.enable' {{checked
                            ( lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'macro' ) 'enable' )}}
                            style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-keyboard fa-lg enableMacro' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.add'}} {{localize 'AUTOANIM.macro'}}</span>
                        </div>
                        {{/unless}}
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-trash-alt remove-autorecog preset' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.delete'}}</span>
                        </div>
                    </div>
                </div>
                {{#ifnoteq ( lookup ( lookup (lookup ../settings.aaAutorec.preset idx) 'macro' ) 'playWhen' ) '2' }}
                <div class="aa-container">
                    <div class='animation-choice'
                        style="grid-row:1 / 2; grid-column: 1 / 5;justify-self: center;padding-bottom: 4px; padding-top: 2px;">
                        <label for="aaAutorec.preset.{{idx}}.animation">{{localize 'AUTOANIM.preset'}}:
                            <select name="aaAutorec.preset.{{idx}}.animation"
                                style="min-width: 15em; text-align: center;">
                                {{#select (lookup (lookup ../settings.aaAutorec.preset idx)
                                'animation')}}
                                <option value=""></option>
                                <option value="bardicinspiration">{{localize "AUTOANIM.bardicinspiration"}}
                                </option>
                                <option value="bless">{{localize "AUTOANIM.bless"}}</option>
                                <option value="dualattach">{{localize "AUTOANIM.dualattach"}}</option>
                                <option value="fireball">{{localize "AUTOANIM.fireball"}}</option>
                                <option value='huntersmark'>{{localize "AUTOANIM.huntersmark"}}</option>
                                <option value="shieldspell">{{localize "AUTOANIM.shieldspell"}}</option>
                                <option value="sneakattack">{{localize "AUTOANIM.sneakattack"}}</option>
                                <option value="teleportation">{{localize "AUTOANIM.animTeleportation"}}</option>
                                <option value="thunderwave">{{localize "AUTOANIM.thunderwave"}} D&D 5e</option>
                                {{/select}}
                            </select>
                        </label>
                    </div>
                </div>

                <div style="border: 1px solid rgba(0, 0, 0, .4);"></div>
                <!--Thunderwave Preset Option-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'thunderwave'}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            {{#each (lookup (lookup ../menuColors.static.spell 'thunderwave') 'mid') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.repeat'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.repeat"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'repeat'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.delay"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'delay'}}" data-dtype="Number"
                            placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.scale"}} X</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scaleX"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scaleX'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                        <label>{{localize "AUTOANIM.scale"}} Y</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scaleY"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scaleY'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.opacity'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.opacity"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'opacity'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 4 / 5;'>
                        <label>{{localize 'AUTOANIM.remove'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.removeTemplate' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'removeTemplate' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style='text-align: center;'>
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.persistant"}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.persist' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'persist' ) }}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'persist')}}
                <div class='aa-primary-container'>
                    <div class='flexcol' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.persistType">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'persistType')}}
                            <option value=""></option>
                            <option value="overheadtile">{{localize "AUTOANIM.overheadtile"}}</option>
                            <option value="groundtile">{{localize "AUTOANIM.groundtile"}}</option>
                            <option value="sequencerground">{{localize "AUTOANIM.sequencereffect"}}</option>
                            <option value="attachtemplate">{{localize "AUTOANIM.attachtotemplate"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'persistType') 'overheadtile'}}
                    <div class='flexcol' style='grid-row: 2 / 3; grid-column: 1 / 3;'>
                        <label>{{localize "AUTOANIM.occlusionMode"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.occlusionMode">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx)
                            'occlusionMode')}}
                            <option value="3">{{localize "AUTOANIM.occlusion03"}}</option>
                            <option value="1">{{localize "AUTOANIM.occlusion01"}}</option>
                            <option value="2">{{localize "AUTOANIM.occlusion02"}}</option>
                            <option value="0">{{localize "AUTOANIM.occlusion00"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.occlusionAlpha"}}</label>
                        <div class="form-fields">
                            <input type="range" name="aaAutorec.preset.{{idx}}.occlusionAlpha"
                                value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'occlusionAlpha'}}" min="0"
                                max="1" step="0.05">
                            <span class="range-value">{{occlusionAlpha}}</span>
                        </div>
                    </div>
                    {{/ifEquals}}
                </div>
                {{/if}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Dual Attach Animaiton menu-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'dualattach'}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.menuType" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' ) }} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')}}
                            <option value=""></option>
                            {{#each ../menuTypes.range as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.animation"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.subAnimation" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' ) }} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.range (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.variant"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' ) }} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.range (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <!--Choose Standard Animation Color-->
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color" {{#if (lookup (lookup ../settings.aaAutorec.preset
                            idx) 'custom' ) }} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.range (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')) (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class="aa-customAnim-container">
                    <div class='form-group' style='justify-self: left;grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.custom'}}: </label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.custom' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' ) }}>
                    </div>
                    {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'custom')}}
                    <div class="form-group" style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.customPath"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'customPath'}}">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.preset.{{idx}}.customPath" tabindex="-1" title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                    {{/if}}
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.playbackRate"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.playbackRate" step="0.01"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'playbackRate'}}" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.constantScaleY'}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.onlyX" {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'onlyX' ) }} {{#unless (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/unless}}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable'
                )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                <div style='text-align: center;padding: 8px'>
                    <label style='font-weight: bold;'>Dual Attach does not utilize Extra Effects (Source /
                        Target)</label>
                </div>
                {{/ifEquals}}

                <!--Bardic Inspiration Menu-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'bardicinspiration'}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.bardSelf"}}</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.animateSelf' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'animateSelf' ) }}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'animateSelf')}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.animation"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.selfAnimation">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'selfAnimation')}}
                            <option value=""> </option>
                            <option value="bardicinspiration">{{localize "AUTOANIM.bardicinspiration"}}</option>
                            <option value="music">{{localize "AUTOANIM.musicnote"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.selfColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'selfColor')}}
                            <option value=""> </option>
                            {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'selfAnimation')
                            'bardicinspiration'}}
                            {{#each (lookup (lookup ../menuColors.static.spell 'bardicinspiration') 'inspire') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/ifEquals}}
                            {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'selfAnimation') 'music'}}
                            {{#each (lookup (lookup ../menuColors.static.music 'notes') '01') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/ifEquals}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                {{/if}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.bardTarget"}}</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.animateTarget' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'animateTarget' ) }}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'animateTarget')}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.animation"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.targetAnimation">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'targetAnimation')}}
                            <option value=""> </option>
                            <option value="bardicinspiration">{{localize "AUTOANIM.bardicinspiration"}}</option>
                            <option value="music">{{localize "AUTOANIM.musicnote"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.targetColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'targetColor')}}
                            <option value=""> </option>
                            {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'targetAnimation')
                            'bardicinspiration'}}
                            {{#each (lookup (lookup ../menuColors.static.spell 'bardicinspiration') 'inspire') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/ifEquals}}
                            {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'targetAnimation')
                            'music'}}
                            {{#each (lookup (lookup ../menuColors.static.music 'notes') '01') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/ifEquals}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                {{/if}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.markerEnable"}}</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.marker' {{checked (lookup
                            (lookup ../settings.aaAutorec.preset idx) 'marker' ) }}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'marker')}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>Self {{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.selfMarkerColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'selfMarkerColor')}}
                            <option value=""> </option>
                            {{#each (lookup ../menuColors.static.spell.bardicinspiration 'marker') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>Target {{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.targetMarkerColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'targetMarkerColor')}}
                            <option value=""> </option>
                            {{#each (lookup ../menuColors.static.spell.bardicinspiration 'marker') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                {{/if}}
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Shield Menu-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'shieldspell'}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')}}
                            <option value=""> </option>
                            {{#each (lookup ../menuVariants.static.spell 'shieldspell') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuColors.static.spell 'shieldspell') (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.endEffect"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.endeffect">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'endeffect')}}
                            <option value="outro_explode">{{localize "AUTOANIM.explode"}}</option>
                            <option value="outro_fade">{{localize "AUTOANIM.fade"}}</option>
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.persistant"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.addCTA' {{checked (lookup
                            (lookup ../settings.aaAutorec.preset idx) 'addCTA' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.unbindAlpha"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.unbindAlpha' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'unbindAlpha' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.unbindVisibility"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.unbindVisibility' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'unbindVisibility' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Bless Menu-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'bless'}}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            {{#each (lookup ../menuColors.static.spell.bless 'intro') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.persistant"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.addCTA' {{checked (lookup
                            (lookup ../settings.aaAutorec.preset idx) 'addCTA' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.unbindAlpha"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.unbindAlpha' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'unbindAlpha' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.unbindVisibility"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.unbindVisibility' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'unbindVisibility' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Teleportation Menu-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'teleportation'}}
                <div style='padding:3px'>

                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.animTeleportation"}} {{localize
                        "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.gridMeasure'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.measureType">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'measureType')}}
                            <option value="alternating">{{localize 'AUTOANIM.circle'}}</option>
                            <option value="equidistant">{{localize 'AUTOANIM.square'}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.ranged'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.range"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'range'}}" data-dtype="Number"
                            placeholder=30>
                    </div>
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 5 / 6;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                    <div style='grid-column: 1 / 6;grid-row: 2 / 3;text-align: center;'>
                        <p style='font-weight: bold;'>NOTE: If your Game System supports specific Diagonal Movement
                            rules for grids, the Measurement Type chosen should match your System Setting</p>
                    </div>
                </div>
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.start"}} {{localize
                        "AUTOANIM.animation"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.menuType" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')}}
                            <option value=""></option>
                            {{#each ../menuTypes.static as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label for="aaAutorec.preset.{{idx}}.subAnimation">{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.subAnimation" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color" {{#if (lookup (lookup ../settings.aaAutorec.preset
                            idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation')) (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class="aa-customAnim-container">
                    <div class='form-group' style='justify-self: left;grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.custom'}}: </label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.custom' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' ) }}>
                    </div>
                    {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'custom')}}
                    <div class="form-group" style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                        <div class="form-group">
                            <input type="text" class="files" name="aaAutorec.preset.{{idx}}.customPath"
                                value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'customPath'}}">
                            <button type="button" class="file-picker" data-type="image/video"
                                data-target="aaAutorec.preset.{{idx}}.customPath" tabindex="-1" title="Browse Files"
                                style='width:15em;'>
                                <i class="fas fa-file-video"></i>
                            </button>
                        </div>
                    </div>
                    {{/if}}
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                </div>
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.end"}} {{localize
                        "AUTOANIM.animation"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.menuType02" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType02')}}
                            <option value=""></option>
                            {{#each ../menuTypes.static as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.subAnimation02" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom02' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation02')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType02')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant02" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom02' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant02')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType02')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation02')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color02" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom02' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color02')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.static (lookup (lookup ../settings.aaAutorec.preset idx) 'menuType02')) (lookup (lookup ../settings.aaAutorec.preset idx) 'subAnimation02')) (lookup (lookup ../settings.aaAutorec.preset idx) 'variant02')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class="aa-customAnim-container">
                    <div class='form-group' style='justify-self: left;grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.custom'}}: </label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.custom02' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom02' ) }}>
                    </div>
                    {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'custom02')}}
                    <div class="form-group" style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                        <div class="form-group">
                            <input type="text" class="files" name="aaAutorec.preset.{{idx}}.customPath02"
                                value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'customPath02'}}">
                            <button type="button" class="file-picker" data-type="image/video"
                                data-target="aaAutorec.preset.{{idx}}.customPath02" tabindex="-1" title="Browse Files"
                                style='width:15em;'>
                                <i class="fas fa-file-video"></i>
                            </button>
                        </div>
                    </div>
                    {{/if}}
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale02"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale02'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.delayMS"}} {{localize "AUTOANIM.token"}} {{localize
                            "AUTOANIM.alpha"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.delay"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'delay'}}" data-dtype="Number"
                            placeholder=250>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Sneak Attack preset-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'sneakattack'}}
                <div class="aa-options-even aa-options-settings">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')}}
                            <option value=""> </option>
                            {{#each (lookup ../menuVariants.static.spell 'sneakattack') as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuColors.static.spell 'sneakattack') (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.anchorX"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.anchorX"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'anchorX'}}" data-dtype="Number"
                            placeholder=0.5>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.anchorY"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.anchorY"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'anchorY'}}" data-dtype="Number"
                            placeholder=0.5>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}

                <!--Fireball preset-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'fireball'}}
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.projectile"}} {{localize
                        "AUTOANIM.animation"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.rangeType" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'rangeType')}}
                            <option value=""></option>
                            {{#each ../menuTypes.range as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.projectile">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx)
                            'projectile')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.range (lookup (lookup ../settings.aaAutorec.preset idx) 'rangeType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.projectilVariant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'projectilVariant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.range (lookup (lookup ../settings.aaAutorec.preset idx) 'rangeType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'projectile')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.projectileColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'projectileColor')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.range (lookup (lookup ../settings.aaAutorec.preset idx) 'rangeType')) (lookup (lookup ../settings.aaAutorec.preset idx) 'projectile')) (lookup (lookup ../settings.aaAutorec.preset idx) 'projectilVariant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.repeat'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.projectileRepeat"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'projectileRepeat'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.projectileDelay"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'projectileDelay'}}"
                            data-dtype="Number" placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.wait"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.wait01"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'wait01'}}" data-dtype="Number"
                            placeholder=0>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                        <label>{{localize 'AUTOANIM.remove'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.removeTemplate' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'removeTemplate' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.projectile"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input style='width: 25em' type="text" class="files"
                            name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                </div>
                {{/if}}

                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.explosion"}} {{localize
                        "AUTOANIM.animation"}} 01</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.ex01Type" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'ex01Type')}}
                            <option value=""></option>
                            {{#each ../menuTypes.static as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion01">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx)
                            'explosion01')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex01Type')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion01Variant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex01Type')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion01Color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex01Type')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.repeat'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion01Repeat"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Repeat'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion01Delay"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Delay'}}"
                            data-dtype="Number" placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.scale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion01Scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion01Scale'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                        <label>{{localize "AUTOANIM.wait"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.wait02"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'wait02'}}" data-dtype="Number"
                            placeholder=0>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.explosion"}} {{localize
                            "AUTOANIM.sound"}} 01</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.e01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'e01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'e01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.e01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.e01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}



                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.explosion"}} {{localize
                        "AUTOANIM.animation"}} 02</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}:</label>
                        <select name="aaAutorec.preset.{{idx}}.ex02Type" {{#if (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'ex02Type')}}
                            <option value=""></option>
                            {{#each ../menuTypes.static as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion02">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx)
                            'explosion02')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex02Type')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion02Variant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex02Type')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.explosion02Color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.static (lookup (lookup ../settings.aaAutorec.preset idx) 'ex02Type')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02')) (lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.repeat'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion02Repeat"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Repeat'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion02Delay"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Delay'}}"
                            data-dtype="Number" placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 5 / 6;'>
                        <label>{{localize 'AUTOANIM.scale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.explosion02Scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'explosion02Scale'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.explosion"}} {{localize
                            "AUTOANIM.sound"}} 02</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.e02.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'e02' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'e02' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Explosion Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.e02.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e02') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.e02.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e02.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e02') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Explosion Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e02.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e02') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Explosion Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.e02.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'e02') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize 'AUTOANIM.addAfterImage'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.afterEffect' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'afterEffect' ) }}>
                    </div>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-sound-container">
                    {{#if (lookup (lookup ../settings.aaAutorec.preset idx) 'afterEffect')}}
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 5;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.afterEffectPath"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'afterEffectPath'}}">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.preset.{{idx}}.afterEffectPath" tabindex="-1" title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 4 / 5;'>
                        <label>{{localize "AUTOANIM.wait"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.wait03"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'wait03'}}" data-dtype="Number"
                            placeholder=0>
                    </div>
                    {{/if}}
                </div>
                {{/ifEquals}}

                <!--Hunters Mark-->
                {{#ifEquals (lookup (lookup ../settings.aaAutorec.preset idx) 'animation') 'huntersmark'}}
                <div class="aa-options-even aa-options-settings">
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize "AUTOANIM.variant"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.variant">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'variant') }}
                            <option value=""> </option>
                            <option value="eye">{{localize "AUTOANIM.eye"}}</option>
                            <option value="paw">{{localize "AUTOANIM.paw"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.color"}}</label>
                        <select name="aaAutorec.preset.{{idx}}.color">
                            {{#select (lookup (lookup ../settings.aaAutorec.preset idx) 'color') }}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuColors.static.spell 'huntersmark') (lookup (lookup ../settings.aaAutorec.preset idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.preset.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.preset idx) 'below' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.persistant"}}?</label>
                        <input type='checkbox' class='hideme' name='aaAutorec.preset.{{idx}}.persistent' {{checked
                            (lookup (lookup ../settings.aaAutorec.preset idx) 'persistent' ) }}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.anchorX"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.anchorX"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'anchorX'}}" data-dtype="Number"
                            placeholder=0.5 {{#unless (lookup (lookup ../settings.aaAutorec.preset idx) 'persistent' )}}
                            disabled {{/unless}}>
                    </div>
                    <div class="flexcol" style='grid-row: 2 / 3; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.anchorY"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.anchorY"
                            value="{{lookup (lookup ../settings.aaAutorec.preset idx) 'anchorY'}}" data-dtype="Number"
                            placeholder=0.5 {{#unless (lookup (lookup ../settings.aaAutorec.preset idx) 'persistent' )}}
                            disabled {{/unless}}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.preset.{{idx}}.audio.a01.enable" {{checked (lookup
                            (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio' ) 'a01' )
                'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.preset.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.preset.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.volume" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.preset.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/ifEquals}}
                {{/ifnoteq}}
                {{#if (lookup ( lookup (lookup ../settings.aaAutorec.preset idx) 'macro' ) 'enable' )}}
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.macro"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 1 / 3;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.playwhen'}}</label>
                        <select name="aaAutorec.preset.{{idx}}.macro.playWhen">
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'macro')
                            'playWhen' )}}
                            <option value="0">{{localize 'AUTOANIM.macroconcurrent'}}</option>
                            <option value="1">{{localize 'AUTOANIM.awaitmacro'}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 3 / 5;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.macro'}} {{localize
                            'AUTOANIM.name'}}</label>
                        <input type="text" name="aaAutorec.preset.{{idx}}.macro.name"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'macro') 'name'}}">
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 5;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.args'}}</label>
                        <input type="text" name="aaAutorec.preset.{{idx}}.macro.args"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.preset idx) 'macro') 'args'}}">
                    </div>
                </div>
                {{/if}}
            </div>
            {{/unless}}
        </div>
    </div>
    {{/each}}
</div>
<footer class='sheet-footer flexrow add-preset-wrapper'>
    <button class='add-autorecog-preset' style='margin-right: 5%; margin-left: 5%;'>
        <i class='far fa-plus-square'></i>{{localize 'AUTOANIM.addItem'}}
    </button>
</footer>