<div class='aa-autorecognition'>
    {{#each settings.aaAutorec.melee as |melee idx|}}
    <div class='aa-border-autorecog aa-search aaFGimage'>
        <div class='flexrow melee-settings' data-idx="{{idx}}">
            {{#if ( lookup (lookup ../settings.aaAutorec.melee idx) 'hidden' )}}
            <div class='flexcol'>
                <div class='form-group'>
                    <div class='form-fields'>
                        <input type='checkbox' class='hideme' name='aaAutorec.melee.{{idx}}.hidden' {{checked (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'hidden' ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i {{#if ( lookup (lookup
                                ../settings.aaAutorec.melee idx) 'hidden' ) }} class="fas fa-plus collapse-button"
                                {{/if}} {{#unless ( lookup (lookup ../settings.aaAutorec.melee idx) 'hidden' ) }}
                                class="fas fa-minus collapse-button" {{/unless}}></i>
                            <span class='aaToggle01'>
                                {{#if (lookup (lookup ../settings.aaAutorec.melee idx) 'hidden')}}
                                {{localize 'AUTOANIM.expand'}}
                                {{/if}}
                                {{#unless (lookup (lookup ../settings.aaAutorec.melee idx) 'hidden')}}
                                {{localize 'AUTOANIM.collapse'}}
                                {{/unless}}
                            </span>
                        </div>
                        <input type='text' name="aaAutorec.melee.{{idx}}.name"
                            placeholder="{{localize 'AUTOANIM.itemName'}}" class='auto-name'
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'name'}}" />
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-trash-alt remove-autorecog melee' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.delete'}}</span>
                        </div>
                    </div>
                </div>
            </div>
            {{/if}}
            {{#unless ( lookup (lookup ../settings.aaAutorec.melee idx) 'hidden' ) }}
            <div class='flexcol'>
                <div class='form-group'>
                    <div class='form-fields'>
                        <input type='checkbox' class='hideme' name='aaAutorec.melee.{{idx}}.hidden' {{checked (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'hidden' ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i {{#if ( lookup (lookup
                                ../settings.aaAutorec.melee idx) 'hidden' ) }} class="fas fa-plus collapse-button"
                                {{/if}} {{#unless ( lookup (lookup ../settings.aaAutorec.melee idx) 'hidden' ) }}
                                class="fas fa-minus collapse-button" {{/unless}}></i>
                            <span class='aaToggle01'>
                                {{#if (lookup (lookup ../settings.aaAutorec.melee idx) 'hidden')}}
                                {{localize 'AUTOANIM.expand'}}
                                {{/if}}
                                {{#unless (lookup (lookup ../settings.aaAutorec.melee idx) 'hidden')}}
                                {{localize 'AUTOANIM.collapse'}}
                                {{/unless}}
                            </span>
                        </div>
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i
                                class='far fa-clone duplicate-melee' data-idx="{{idx}}"></i>
                            <span class='aaToggle01'>{{localize 'AUTOANIM.duplicate'}}</span>
                        </div>
                        <input type='checkbox' class='anim2d' name='aaAutorec.melee.{{idx}}.anim2d' {{checked (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'anim2d' ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;"><i {{#if ( lookup (lookup
                                ../settings.aaAutorec.melee idx) 'anim2d' ) }} class="fas fa-cubes button-2d" {{/if}}
                                {{#unless ( lookup (lookup ../settings.aaAutorec.melee idx) 'anim2d' ) }}
                                class="fas fa-cube button-2d" {{/unless}}></i>
                            <span class='aaToggle01'>{{localize 'AUTOANIM.toggle3d'}}</span>
                        </div>
                        <input type='text' name="aaAutorec.melee.{{idx}}.name"
                            placeholder="{{localize 'AUTOANIM.itemName'}}" class='auto-name'
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'name'}}" />
                        <input type='checkbox' class='showSound' name='aaAutorec.melee.{{idx}}.soundOnly.enable'
                            {{checked ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly' ) 'enable'
                            ) }} style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='fas fa-music fa-lg showSoundOnly' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.sound'}} {{localize 'AUTOANIM.only'}}</span>
                        </div>
                        <input type='checkbox' class='showMacro' name='aaAutorec.melee.{{idx}}.macro.enable' {{checked (
                            lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'macro' ) 'enable' )}}
                            style="display:none">
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-keyboard fa-lg enableMacro' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.add'}} {{localize 'AUTOANIM.macro'}}</span>
                        </div>
                        <div class="aaToolTip" style="max-width: 1.5rem;margin-left: .75rem;">
                            <i class='far fa-trash-alt remove-autorecog melee' data-idx="{{idx}}"></i>
                            <span class='aaToggle02'>{{localize 'AUTOANIM.delete'}}</span>
                        </div>
                    </div>
                </div>

                {{#unless ( lookup (lookup ../settings.aaAutorec.melee idx) 'anim2d' ) }}
                {{#ifnoteq ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'macro' ) 'playWhen' ) '2' }}
                {{#unless ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly' ) 'enable' ) }}
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                        "AUTOANIM.animation"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.menuType" {{#if (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx) 'menuType')}}
                            <option value=""></option>
                            {{#each ../menuTypes.melee as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.animation" {{#if (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                            'animation')}}          
                            <option value=""></option>
                            {{#each (lookup ../menuNames.melee (lookup (lookup ../settings.aaAutorec.melee idx) 'menuType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.variant" {{#if (lookup (lookup ../settings.aaAutorec.melee
                            idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx) 'variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.melee (lookup (lookup ../settings.aaAutorec.melee idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.melee idx) 'animation')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.color" {{#if (lookup (lookup ../settings.aaAutorec.melee
                            idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx) 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.melee (lookup (lookup ../settings.aaAutorec.melee idx) 'menuType')) (lookup (lookup ../settings.aaAutorec.melee idx) 'animation')) (lookup (lookup ../settings.aaAutorec.melee idx) 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class="aa-customAnim-container">
                    <div class='form-group' style='justify-self: left;grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.custom'}}: </label>
                        <input type='checkbox' name='aaAutorec.melee.{{idx}}.custom' {{checked (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'custom' ) }}>
                    </div>
                    {{#if (lookup (lookup ../settings.aaAutorec.melee idx) 'custom')}}
                    <div class="form-group" style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                        <input type="text" class="files" name="aaAutorec.melee.{{idx}}.customPath"
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'customPath'}}">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.melee.{{idx}}.customPath" tabindex="-1" title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                    {{/if}}
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.repeat'}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.repeat"
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'repeat'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.repeat'}} {{localize 'AUTOANIM.delay'}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.delay"
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'delay'}}" data-dtype="Number"
                            placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.ctaScale'}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.scale"
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'scale'}}" data-dtype="Number"
                            placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 4 / 5;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.melee.{{idx}}.below' {{checked (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'below' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.primary"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.audio.a01.enable" {{checked (lookup (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'a01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'a01' ) 'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.melee.{{idx}}.audio.a01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.melee.{{idx}}.audio.a01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a01.volume" min="0" max="1" step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.melee"}} -- {{localize
                        "AUTOANIM.ranged"}} {{localize "AUTOANIM.switch"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-switch-container">
                    <div class='flexcol' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.ranged'}} {{localize 'AUTOANIM.switch'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.switchType">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                            'switchType')}}
                            <option value="on">{{localize "AUTOANIM.enabled"}}</option>
                            <option value="off">{{localize "AUTOANIM.disabled"}}</option>
                            <option value="custom">{{localize "AUTOANIM.customize"}}</option>
                            {{/select}}
                        </select>
                    </div>
                    {{#ifnoteq (lookup (lookup ../settings.aaAutorec.melee idx) 'switchType') "off"}}
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.returning'}}</label>
                        <input type='checkbox' name='aaAutorec.melee.{{idx}}.return' {{checked (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'return' ) }}>
                    </div>
                    {{/ifnoteq}}
                    {{#ifEquals (lookup (lookup ../settings.aaAutorec.melee idx) 'switchType')
                    'custom'}}
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.switchMenuType">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                                'switchMenuType')}}
                            <option value=""> </option>
                            {{#each ../menuTypes.range as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>            
                    <div class="flexcol" style='grid-row: 3 / 4; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.switchAnimation">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                            'switchAnimation')}}
                            <option value=""> </option>
                            {{#each (lookup ../menuNames.range (lookup (lookup ../settings.aaAutorec.melee idx) 'switchMenuType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 3 / 4; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.switchVariant">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                            'switchVariant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.range (lookup (lookup ../settings.aaAutorec.melee idx) 'switchMenuType')) (lookup (lookup ../settings.aaAutorec.melee idx) 'switchAnimation')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 3 / 4; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.switchColor">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx)
                            'switchColor')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.range (lookup (lookup ../settings.aaAutorec.melee idx) 'switchMenuType')) (lookup (lookup ../settings.aaAutorec.melee idx) 'switchAnimation')) (lookup (lookup ../settings.aaAutorec.melee idx) 'switchVariant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class="flexcol" style='grid-row: 4 / 5; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.rangeDetect'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.detect">
                            {{#select (lookup (lookup ../settings.aaAutorec.melee idx) 'detect')}}
                            <option value="auto">Automatic</option>
                            <option value="manual">Manual</option>
                            {{/select}}
                        </select>
                    </div>
                    {{#ifEquals (lookup (lookup ../settings.aaAutorec.melee idx) 'detect') 'manual'}}
                    <div class="flexcol" style='grid-row: 4 / 5; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.gridSquares'}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.range" style='text-align: center;'
                            value="{{lookup (lookup ../settings.aaAutorec.melee idx) 'range'}}" data-dtype="Number"
                            placeholder=2>
                    </div>
                    {{/ifEquals}}
                    {{/ifEquals}}
                </div>
                {{#ifnoteq (lookup (lookup ../settings.aaAutorec.melee idx) 'switchType') 'off'}}
                <div class='aa-checkbox-label' style="text-align: center;">
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.switch"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.audio.a02.enable" {{checked (lookup (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'a02' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'a02' ) 'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.melee.{{idx}}.audio.a02.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a02') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.melee.{{idx}}.audio.a02.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a02.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a02') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Audio Volume-->
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a02.volume" min="0" max="1" step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a02') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Audio Delay-->
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.a02.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'a02') 'delay'}}"
                            placeholder=250>
                    </div>
                </div>
                {{/if}}
                {{/ifnoteq}}
                <div class='aa-checkbox-label' style='text-align: center;'>
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.add"}} {{localize
                            "AUTOANIM.explosion"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.explosion.enable" {{checked (lookup (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'explosion' ) 'enable' ) }}>
                    </div>
                </div>
                <div class="aa-section-divider"></div>
                {{#if (lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'explosion' ) 'enable') }}
                <div class="aa-primary-container">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.type'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.explosion.menuType" {{#if (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'menuType')}}
                            <option value=""></option>
                            {{#each ../menuTypes.static as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.animation'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.explosion.animation" {{#if (lookup ( lookup (lookup
                            ../settings.aaAutorec.melee idx) 'explosion' ) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion' )
                            'animation')}}
                            <option value=""></option>
                            {{#each (lookup ../menuNames.static (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'menuType')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3; grid-column: 2 / 3;'>
                        <label>{{localize 'AUTOANIM.variant'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.explosion.variant" {{#if (lookup ( lookup (lookup
                            ../settings.aaAutorec.melee idx) 'explosion' ) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion' )
                            'variant')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup ../menuVariants.static (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'menuType')) (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'animation')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3; grid-column: 3 / 4;'>
                        <label>{{localize 'AUTOANIM.color'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.explosion.color" {{#if (lookup ( lookup (lookup
                            ../settings.aaAutorec.melee idx) 'explosion' ) 'custom' )}} disabled {{/if }}>
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'color')}}
                            <option value=""> </option>
                            {{#each (lookup (lookup (lookup ../menuColors.static (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'menuType')) (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'animation')) (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'variant')) as |name key|}}
                            <option value="{{key}}">{{name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </div>
                <div class="aa-customAnim-container">
                    <div class='form-group' style='justify-self: left; grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.custom'}}: </label>
                        <input type='checkbox' name='aaAutorec.melee.{{idx}}.explosion.custom' {{checked (lookup (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'explosion' ) 'custom' ) }}>
                    </div>
                    {{#if (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'custom')}}
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 5;'>
                        <input type="text" class="files" name="aaAutorec.melee.{{idx}}.explosion.customPath"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'customPath'}}">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.melee.{{idx}}.explosion.customPath" tabindex="-1"
                            title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                    {{/if}}
                </div>
                <div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.options"}}</label>
                </div>
                <div class="aa-subSection-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 1 / 2;'>
                        <label>{{localize 'AUTOANIM.radius'}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.explosion.radius"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'radius'}}"
                            data-dtype="Number" placeholder=1>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.delayMS"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.explosion.delay"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'explosion') 'delay'}}"
                            data-dtype="Number" placeholder=250>
                    </div>
                    <div class="flexcol" style='grid-row: 1 / 2; grid-column: 5 / 6;'>
                        <label>{{localize 'AUTOANIM.below'}}</label>
                        <input type='checkbox' name='aaAutorec.melee.{{idx}}.explosion.below' {{checked (lookup (lookup
                            (lookup ../settings.aaAutorec.melee idx) 'explosion' ) 'below' ) }}>
                    </div>
                </div>
                <div class='aa-checkbox-label'>
                    <div class='form-group' style='grid-row: 1 / 2; grid-column: 2 / 3;'>
                        <label style="font-size: large;">{{localize "AUTOANIM.explosion"}} {{localize
                            "AUTOANIM.sound"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.audio.e01.enable" {{checked (lookup (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'e01' ) 'enable' )}}>
                    </div>
                </div>
                <div class="aa-subSection-divider"></div>
                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio' ) 'e01' ) 'enable' )}}
                <div class="aa-options-odd aa-options-settings">
                    <!--Explosion Audio filePicker and Text Input-->
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input style='width: 25em' type="text" class="files"
                            name="aaAutorec.melee.{{idx}}.audio.e01.file"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'e01') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.melee.{{idx}}.audio.e01.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <!--Set Sound Start Time-->
                    <div class="flexcol" style='grid-row: 2 / 3;grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.e01.startTime" step="1"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'e01') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <!--Explosion Audio Volume-->
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.e01.volume" min="0" max="1" step="0.01"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'e01') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <!--Explosion Audio Delay-->
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.audio.e01.delay" min="0"
                            value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'audio') 'e01') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{/if}}

                {{/unless}}
                {{/ifnoteq}}
                {{#if (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly' ) 'enable' ) }}
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.sound"}} {{localize "AUTOANIM.only"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-options-odd aa-options-settings">
                    <div class='form-group' style='grid-row: 1 / 2;grid-column: 1 / 6;'>
                        <input type="text" class="files" name="aaAutorec.melee.{{idx}}.soundOnly.file"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly') 'file'}}">
                        <button type="button" class="file-picker" data-type="audio"
                            data-target="aaAutorec.melee.{{idx}}.soundOnly.file" tabindex="-1" title="Browse Files">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                    <div class="flexcol" style='grid-row: 3 / 4; grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.start"}} {{localize "AUTOANIM.time"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.soundOnly.startTime" min="0" max="1"
                            step="0.01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly') 'startTime'}}"
                            placeholder=0>
                    </div>
                    <div class="flexcol" style='grid-row: 3 / 4; grid-column: 3 / 4;'>
                        <label>{{localize "AUTOANIM.volume"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.soundOnly.volume" min="0" max="1" step="0.01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly') 'volume'}}"
                            placeholder=0.5>
                    </div>
                    <div class="flexcol" style='grid-row: 3 / 4; grid-column: 5 / 6;'>
                        <label>{{localize "AUTOANIM.delay"}}</label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.soundOnly.delay" min="0"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'soundOnly') 'delay'}}"
                            placeholder=0>
                    </div>
                </div>
                {{/if}}
                {{#if (lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'macro' ) 'enable' )}}
                <div div class='flexrow aa-section-label'>
                    <label style="font-size: large;">{{localize "AUTOANIM.macro"}}</label>
                </div>
                <div class="aa-section-divider"></div>
                <div class="aa-options-even aa-options-settings">
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 1 / 3;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.playwhen'}}</label>
                        <select name="aaAutorec.melee.{{idx}}.macro.playWhen">
                            {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'macro')
                            'playWhen' )}}
                            <option value="0">{{localize 'AUTOANIM.macroconcurrent'}}</option>
                            <option value="1">{{localize 'AUTOANIM.awaitmacro'}}</option>
                            <option value="2">{{localize 'AUTOANIM.macroonly'}}</option>
                            {{/select}}
                        </select>
                    </div>
                    <div class='flexcol' style='grid-row: 1 / 2;grid-column: 3 / 5;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.macro'}} {{localize
                            'AUTOANIM.name'}}</label>
                        <input type="text" name="aaAutorec.melee.{{idx}}.macro.name"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'macro') 'name'}}">
                    </div>
                    <div class='flexcol' style='grid-row: 2 / 3;grid-column: 1 / 5;'>
                        <label style='font-weight: bold;'>{{localize 'AUTOANIM.args'}}</label>
                        <input type="text" name="aaAutorec.melee.{{idx}}.macro.args"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'macro') 'args'}}">
                    </div>
                </div>
                {{/if}}
                {{/unless}}

                <!--Particle System-->
                {{#if ( lookup (lookup ../settings.aaAutorec.melee idx) 'anim2d' ) }}
                <div class='aa-item-container particles'>
                    <div class='form-group' style='justify-self: center;grid-row: 1 / 2;grid-column: 1 / 5;'>
                        <label style='font-weight: bold;font-size: large;'>{{localize
                            'AUTOANIM.particlenote'}}</label>
                    </div>
                    <div style="justify-self: center;grid-row: 2 / 3;grid-column: 1 / 5;">
                        <label>{{localize 'AUTOANIM.type'}}:
                            <select name="aaAutorec.melee.{{idx}}.levels3d.type">
                                {{#select (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d')
                                'type') }}
                                <option value=""></option>
                                <option value="projectile">{{localize 'AUTOANIM.projectile'}}</option>
                                <option value="sprite">{{localize 'AUTOANIM.sprite'}}</option>
                                <option value="ray">{{localize 'AUTOANIM.ray'}}</option>
                                <option value="explosion">{{localize 'AUTOANIM.explosion'}}</option>
                                {{/select}}
                            </select>
                        </label>
                    </div>
                </div>
                <div style='padding:5px'>
                </div>

                <div class='flexrow text-green'>
                    <label><strong>{{localize "AUTOANIM.animation"}}</strong></label>
                </div>
                {{#ifnoteq (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'type') 'sprite'
                }}
                <div class='aa-item-container particles'>
                    <div class="form-group" style="grid-row: 2 / 3; grid-column: 1 / 2;">
                        <label>{{localize 'AUTOANIM.color'}} 01</label>
                        <input type="Text"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color01'}}">
                        <input type="color" id="tint" name="aaAutorec.melee.{{idx}}.levels3d.color01" {{#if (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'color01' ) }}
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color01'}}"
                            {{/if}}>
                    </div>
                    <div class="form-group" style="grid-row: 3 / 4; grid-column: 1 / 2;">
                        <label>{{localize 'AUTOANIM.color'}} 02</label>
                        <input type="Text"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color02'}}">
                        <input type="color" id="tint" name="aaAutorec.melee.{{idx}}.levels3d.color02" {{#if (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'color02' ) }}
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color02'}}"
                            {{/if}}>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.speed'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.speed" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'speed'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=0 {{/ifEquals}} placeholder=5>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 3 / 4;">
                        <label>{{localize 'AUTOANIM.repeat'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.repeat" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'repeat'}}"
                            placeholder=1>
                    </div>
                    {{#ifnoteq (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'type')
                    'explosion' }}
                    <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 3 / 4;">
                        <label>{{localize 'AUTOANIM.arc'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.arc" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'arc'}}"
                            placeholder=2>
                    </div>
                    {{/ifnoteq}}
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 4 / 5;">
                        <label>{{localize 'AUTOANIM.delayMS'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.delay" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'delay'}}"
                            placeholder=0>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.scale'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.scale" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'scale'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=2 {{/ifEquals}} placeholder=0.7>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 4 / 5;">
                        <label>{{localize 'AUTOANIM.alpha'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.alpha" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'alpha'}}"
                            placeholder=0.5>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.gravity'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.gravity" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'gravity'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=2 {{/ifEquals}} placeholder=0>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 3 / 4;">
                        <label>{{localize 'AUTOANIM.mass'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.mass" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'mass'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=400 {{/ifEquals}} placeholder=100>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 4 / 5;">
                        <label>{{localize 'AUTOANIM.life'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.life" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'life'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=700 {{/ifEquals}} placeholder=500>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 5 / 6; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.emiterSize'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.emittersize" step=".0001"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'emittersize'}}"
                            {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'type'
                            ) "explosion" }} placeholder=1 {{/ifEquals}} placeholder=.0001>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 5 / 6; grid-column: 3 / 4;">
                        <label>{{localize 'AUTOANIM.rate'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.rate" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'rate'}}"
                            placeholder=10>
                    </div>
                    {{#ifnoteq (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'type')
                    "explosion"}}
                    <div class='form-group'
                        style='padding-top: 5px;padding-bottom: 4px;grid-row: 4 / 5; grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.menuEnableExplode"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.enable" {{checked (
                            lookup ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d'
                            ) 'addexplosion' ) 'enable' )}}>
                    </div>
                    {{/ifnoteq}}
                    <div class="form-group" style='grid-column: 1 / 5;grid-row: 6 / 7'>
                        <label>{{localize 'AUTOANIM.sprite'}}</label>
                        <input style='width: 25em' type="text" class="files"
                            name="aaAutorec.melee.{{idx}}.levels3d.sprite" {{#ifEquals (lookup (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'levels3d' ) 'sprite' ) "" }}
                            value="modules/levels-3d-preview/assets/particles/emberssmall.png" {{/ifEquals}}
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'sprite'}}">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.melee.{{idx}}.levels3d.sprite" tabindex="-1" title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                </div>
                {{/ifnoteq}}
                {{#ifEquals (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'type')
                'sprite'
                }}
                <div class='aa-item-container particles'>
                    <div class="form-group" style="grid-row: 2 / 3; grid-column: 1 / 2;">
                        <label>{{localize 'AUTOANIM.color'}} 01</label>
                        <input type="Text"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color01'}}">
                        <input type="color" id="tint" name="aaAutorec.melee.{{idx}}.levels3d.color01" {{#if (lookup
                            (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'color01' ) }}
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'color01'}}"
                            {{/if}}>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.speed'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.speed" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'speed'}}"
                            placeholder=5>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 3 / 4;">
                        <label>{{localize 'AUTOANIM.repeat'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.repeat" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'repeat'}}"
                            placeholder=1>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 4 / 5;">
                        <label>{{localize 'AUTOANIM.delayMS'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.delay" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'delay'}}"
                            placeholder=500>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 2 / 3;">
                        <label>{{localize 'AUTOANIM.scale'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.scale" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'scale'}}"
                            placeholder=0.7>
                    </div>
                    <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 4 / 5;">
                        <label>{{localize 'AUTOANIM.alpha'}} </label>
                        <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.alpha" step=".01"
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'alpha'}}"
                            placeholder=0.7>
                    </div>
                    <div class='form-group'
                        style='padding-top: 5px;padding-bottom: 4px;grid-row: 4 / 5; grid-column: 1 / 2;'>
                        <label>{{localize "AUTOANIM.menuEnableExplode"}}</label>
                        <input type="checkbox" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.enable" {{checked (
                            lookup ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d'
                            ) 'addexplosion' ) 'enable' )}}>
                    </div>

                    <div class="form-group" style='grid-column: 1 / 5;grid-row: 6 / 7'>
                        <label>{{localize 'AUTOANIM.sprite'}}</label>
                        <input style='width: 25em' type="text" class="files"
                            name="aaAutorec.melee.{{idx}}.levels3d.sprite" {{#ifEquals (lookup (lookup (lookup
                            ../settings.aaAutorec.melee idx) 'levels3d' ) 'sprite' ) "" }}
                            value="modules/levels-3d-preview/assets/particles/emberssmall.png" {{/ifEquals}}
                            value="{{lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'sprite'}}"
                            placeholder="modules/levels-3d-preview/assets/particles/emberssmall.png">
                        <button type="button" class="file-picker" data-type="image/video"
                            data-target="aaAutorec.melee.{{idx}}.levels3d.sprite" tabindex="-1" title="Browse Files">
                            <i class="fas fa-file-video"></i>
                        </button>
                    </div>
                </div>
                {{/ifEquals}}
                <div style='padding:3px'>
                </div>
                <!--Add Particle Explosion on End-->
                <div {{#unless ( lookup ( lookup ( lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d'
                    ) 'addexplosion' ) 'enable' ) }} style='display: none;' {{/unless}}>
                    <div class='flexrow text-green' {{#unless ( lookup ( lookup ( lookup (lookup
                        ../settings.aaAutorec.melee idx) 'levels3d' ) 'addexplosion' ) 'enable' ) }}
                        style='text-shadow: 1px 1px 2px lightpink, 0 0 25px red, 0 0 5px orangered; text-align: center;'
                        {{/unless}}>
                        <label><strong>{{localize "AUTOANIM.addExplosion"}}</strong></label>
                    </div>
                    <div class='aa-item-container add-explosion particles' {{#if ( lookup ( lookup ( lookup (lookup
                        ../settings.aaAutorec.melee idx) 'levels3d' ) 'addexplosion' ) 'enable' ) }}
                        style='box-shadow: 1px 1px 2px lightseagreen, 0 0 25px green, 0 0 5px lightgreen;' {{/if}}>
                        <div class="form-group" style="grid-row: 2 / 3; grid-column: 1 / 2;visibility: h;">
                            <label>{{localize 'AUTOANIM.color'}} 01</label>
                            <input type="Text"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'color01'}}">
                            <input type="color" id="tint" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.color01"
                                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d'
                                ) 'addexplosion' ) 'color01' ) }}
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'color01'}}"
                                {{/if}}>
                        </div>
                        <div class="form-group" style="grid-row: 3 / 4; grid-column: 1 / 2;">
                            <label>{{localize 'AUTOANIM.color'}} 02</label>
                            <input type="Text"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'color02'}}">
                            <input type="color" id="tint" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.color02"
                                {{#if (lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d'
                                ) 'addexplosion' ) 'color02' ) }}
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'color02'}}"
                                {{/if}}>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 2 / 3; grid-column: 2 / 3;">
                            <label>{{localize 'AUTOANIM.speed'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.speed" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'speed'}}"
                                placeholder=0>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 2 / 3;">
                            <label>{{localize 'AUTOANIM.scale'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.scale" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'scale'}}"
                                placeholder=2>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 3 / 4; grid-column: 4 / 5;">
                            <label>{{localize 'AUTOANIM.alpha'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.alpha" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'alpha'}}"
                                placeholder=0.5>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 2 / 3;">
                            <label>{{localize 'AUTOANIM.gravity'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.gravity" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'gravity'}}"
                                placeholder=2>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 3 / 4;">
                            <label>{{localize 'AUTOANIM.mass'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.mass" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'mass'}}"
                                placeholder=400>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 4 / 5; grid-column: 4 / 5;">
                            <label>{{localize 'AUTOANIM.life'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.life" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'life'}}"
                                placeholder=700>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 5 / 6; grid-column: 2 / 3;">
                            <label>{{localize 'AUTOANIM.emiterSize'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.emittersize"
                                step=".0001"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'emittersize'}}"
                                placeholder=1>
                        </div>
                        <div class="autorec-menu-options" style="grid-row: 5 / 6; grid-column: 3 / 4;">
                            <label>{{localize 'AUTOANIM.rate'}} </label>
                            <input type="Number" name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.rate" step=".01"
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'rate'}}"
                                placeholder=10>
                        </div>

                        <div class="form-group" style='grid-column: 1 / 5;grid-row: 6 / 7'>
                            <label>{{localize 'AUTOANIM.sprite'}}</label>
                            <input style='width: 25em' type="text" class="files"
                                name="aaAutorec.melee.{{idx}}.levels3d.addexplosion.sprite" {{#ifEquals (lookup (lookup
                                (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d' ) 'addexplosion' ) 'sprite'
                                ) "" }} value="modules/levels-3d-preview/assets/particles/dust.png" ; {{/ifEquals}}
                                value="{{lookup (lookup (lookup (lookup ../settings.aaAutorec.melee idx) 'levels3d') 'addexplosion' ) 'sprite'}}">
                            <button type="button" class="file-picker" data-type="image/video"
                                data-target="aaAutorec.melee.{{idx}}.levels3d.addexplosion.sprite" tabindex="-1"
                                title="Browse Files">
                                <i class="fas fa-file-video"></i>
                            </button>
                        </div>
                    </div>
                </div>
                {{/if}}
            </div>
            {{/unless}}
        </div>
    </div>
    {{/each}}
</div>
<footer class='sheet-footer flexrow add-melee-wrapper'>
    <button class='add-autorecog-melee' style='margin-right: 5%; margin-left: 5%;'>
        <i class='far fa-plus-square'></i>{{localize 'AUTOANIM.addItem'}}
    </button>
</footer>