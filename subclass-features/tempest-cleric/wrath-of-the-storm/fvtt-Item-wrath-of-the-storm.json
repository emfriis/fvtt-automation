{
  "name": "Wrath of the Storm",
  "type": "feat",
  "img": "systems/dnd5e/icons/spells/lightning-orange-3.jpg",
  "data": {
    "description": {
      "value": "<p><span style=\"font-family: var(--font-primary); font-size: var(--font-size-14);\">At 1st level, you can thunderously rebuke attackers. When a creature within 5 feet of you that you can see hits you with an attack, you can use your reaction to cause the creature to make a Dexterity saving throw. The creature takes 2d8 lightning or thunder damage (your choice) on a failed saving throw, and half as much damage on a successful one.</span></p>\n<details>\n<p>You can use this feature a number of times equal to your Wisdom modifier (a minimum of once). You regain all expended uses when you finish a long rest.</p>\n<p>&nbsp;</p>\n</details>",
      "chat": "",
      "unidentified": ""
    },
    "source": "",
    "activation": {
      "type": "reaction",
      "cost": 1,
      "condition": ""
    },
    "duration": {
      "value": null,
      "units": ""
    },
    "target": {
      "value": null,
      "width": null,
      "units": "",
      "type": ""
    },
    "range": {
      "value": 5,
      "long": null,
      "units": "ft"
    },
    "uses": {
      "value": 1,
      "max": "1",
      "per": "lr"
    },
    "consume": {
      "type": "",
      "target": "",
      "amount": null
    },
    "ability": "",
    "actionType": "save",
    "attackBonus": 0,
    "chatFlavor": "",
    "critical": {
      "threshold": null,
      "damage": ""
    },
    "damage": {
      "parts": [
        [
          "2d8",
          "lightning"
        ]
      ],
      "versatile": ""
    },
    "formula": "",
    "save": {
      "ability": "dex",
      "dc": null,
      "scaling": "spell"
    },
    "requirements": "",
    "recharge": {
      "value": null,
      "charged": false
    }
  },
  "effects": [],
  "flags": {
    "ddbimporter": {
      "id": "1018",
      "entityTypeId": "222216831",
      "componentId": 149,
      "componentTypeId": 12168134,
      "class": "Cleric",
      "subclass": "Tempest Domain",
      "dndbeyond": {
        "levelScale": null,
        "levelScales": [],
        "limitedUse": [
          {
            "level": null,
            "uses": 1
          }
        ]
      },
      "importId": "pd5q290isltnqno1"
    },
    "infusions": {
      "infused": false
    },
    "obsidian": {
      "source": {
        "type": "class",
        "text": "Cleric"
      }
    },
    "link-item-resource-5e": {
      "resource-link": "secondary"
    },
    "scene-packer": {
      "hash": "1f6e212fbf6d75f27ea594d96c62a3e103403434",
      "sourceId": "Item.iuPhct3Sp0lFZyjd"
    },
    "rest-recovery": {
      "data": {
        "recovery": {
          "enabled": false
        }
      }
    },
    "midi-qol": {
      "effectActivation": false,
      "onUseMacroName": "[postDamageRoll]ItemMacro"
    },
    "midiProperties": {
      "nodam": false,
      "fulldam": false,
      "halfdam": true,
      "rollOther": false,
      "critOther": false,
      "magicdam": false,
      "magiceffect": false,
      "concentration": false,
      "toggleEffect": false
    },
    "itemacro": {
      "macro": {
        "_id": null,
        "name": "Wrath of the Storm",
        "type": "script",
        "author": "ckiTPzlaPztdkjV6",
        "img": "icons/svg/dice-target.svg",
        "scope": "global",
        "command": "// wrath of the storm\n\nconst tokenOrActor = await fromUuid(args[0].actorUuid);\nconst tactor = tokenOrActor.actor ?? tokenOrActor;\nconst token = canvas.tokens.get(args[0].tokenId);\n\nif (args[0].tag === \"OnUse\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].workflowOptions.sourceItemUuid); \n    if (![\"mwak\",\"rwak\",\"msak\",\"rsak\"].includes(workflow.item.data.data.actionType) || MidiQOL.getDistance(workflow.token, token, false) > 5) return;\n    let type = await new Promise((resolve, reject) => {\n        new Dialog({\n            title: \"Wrath of the Storm\",\n            content: \"Choose a damage type\",\n            buttons: {\n                Lightning: {\n                    label: \"Lightning\",\n                    callback: async () => {resolve(\"lightning\")},\n                },\n                Thunder: {\n                    label: \"Thunder\",\n                    callback: async () => {resolve(\"thunder\")},\n                },\n            },\n            default: \"Lightning\",\n            close: () => {resolve(false)}\n        }).render(true);\n    });\n    if (!type) return;\n    let itemWorkflow = MidiQOL.Workflow.getWorkflow(args[0].uuid); \n    itemWorkflow.defaultDamageType = type;\n}",
        "folder": null,
        "sort": 0,
        "permission": {
          "default": 0
        },
        "flags": {}
      }
    },
    "exportSource": {
      "world": "dnd5e",
      "system": "dnd5e",
      "coreVersion": "9.280",
      "systemVersion": "1.6.3"
    }
  }
}